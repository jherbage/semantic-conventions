groups:
  # raid.* metrics
  - id: metric.raid.disks
    type: metric
    metric_name: raid.disks
    stability: development
    brief: "Number of active/failed/spare disks of device."
    note: |
      Reports the total number of disks in a RAID device.
      See also [mdadm](https://raid.wiki.kernel.org/index.php/Mdstat).
    instrument: updowncounter
    unit: "{disk}"
    attributes:
      - ref: storage.volume.name
      - ref: storage.disk.state
    entity_associations:
      - host

  - id: metric.raid.activity_state
    type: metric
    metric_name: raid.activity_state
    stability: development
    brief: "Reports the activity state of a RAID device"
    note: |
      Reports the activity state of a RAID device.
      See also [mdadm](https://raid.wiki.kernel.org/index.php/Mdstat).

      `raid.activity_state` is currently specified as an *UpDownCounter* but would ideally be represented using a
      [*StateSet* as defined in OpenMetrics](https://github.com/prometheus/OpenMetrics/blob/v1.0.0/specification/OpenMetrics.md#stateset).
      This semantic convention will be updated once *StateSet* is specified in OpenTelemetry. This planned change
      is not expected to have any consequence on the way users query their timeseries backend to retrieve the
      values of `raid.activity_state` over time.
    instrument: updowncounter
    unit: "{disk}"
    attributes:
      - ref: storage.volume.name
      - ref: storage.disk.status
    entity_associations:
      - host

  - id: metric.raid.blocks.total
    type: metric
    metric_name: raid.blocks.total
    stability: development
    brief: "Number of blocks on device."
    note: |
      Reports the total number of blocks on a device.
      See also [mdadm](https://raid.wiki.kernel.org/index.php/Mdstat).
    instrument: updowncounter
    unit: "{disk}"
    attributes:
      - ref: storage.volume.name
    entity_associations:
      - host

  - id: metric.raid.blocks.synced
    type: metric
    metric_name: raid.blocks.synced
    stability: development
    brief: "Number of blocks on device."
    note: |
      Reports the total number of blocks on a device. which are synced.
      See also [mdadm](https://raid.wiki.kernel.org/index.php/Mdstat).
    instrument: updowncounter
    unit: "{disk}"
    attributes:
      - ref: storage.volume.name
    entity_associations:
      - host

  - id: metric.raid.disks.assigned
    type: metric
    metric_name: raid.disks.assigned
    stability: development
    brief: "Number of raid disks in a fully functional array for a RAID device."
    note: |
      Reports the number of raid disks in a fully functional array for a RAID device.
      See also [mdadm](https://raid.wiki.kernel.org/index.php/Mdstat) and [md](https://docs.kernel.org/admin-guide/md.html).
    instrument: gauge
    unit: "{disk}"
    attributes:
      - ref: storage.volume.name
    entity_associations:
      - host

  - id: metric.raid.disks.degraded
    type: metric
    metric_name: raid.disks.degraded
    stability: development
    brief: "Number of degraded raid disks in an array for a RAID device."
    note: |
      Reports the number of degraded raid disks in an array for a RAID device..
      See also [mdadm](https://raid.wiki.kernel.org/index.php/Mdstat) and [md](https://docs.kernel.org/admin-guide/md.html).
    instrument: gauge
    unit: "{disk}"
    attributes:
      - ref: storage.volume.name
    entity_associations:
      - host